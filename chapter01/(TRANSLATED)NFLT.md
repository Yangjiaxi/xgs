# "没有免费的午餐定理" 的 简单解释

## 概述

没有免费的午饭定理描述了“适用于所有问题的一般性优化策略”是不存在的，并且一种优化策略在性能上可以优于另一种策略当且仅当该特化的策略作用于特定的数据集。因为，事实上，所有决策类和控制类问题都可以看做最优化问题，NFTL理论和该理论的结论对于控制类工程师来说，是极为重要的。本论文我将呈现一个框架，该框架用于概念化那些[产生有用的见解(结论)]的最优化问题，同时，我会给出NFLT的一个简单证明。

---

## 1.简介

  许多科学研究领域都假设不可能性定理。在数学中，比如，哥德尔不完备性定理，陈述了一个事实——[任何数学系统中均存在无法被证明并且无法被推翻的事实]。在经济学中，阿罗不可能性定理说明社会中种种选择，排除了理想中的完美和谐状态。尽管NFLT远没有那么受欢迎，而且历史很不悠久，但是它告诉我们，如果我们不能对一个我们面临的最优化问题做出预先的假设，没有任何最优化策略敢自称[优于其他某些最优化算法]。换句话说，在普适情况下，一个对于所有情况都适用的最优化策略理论上是不存在的，一种优化策略在性能上可以优于另一种策略当且仅当该特化的策略作用于特定的数据集。   

  毫无疑问，决策和控制科学对于NFLT及其后果的基本认识，是以优化为核心的。本论文将提供我们自认为简单并且直观的NFLT证明和NFLT的应用。我们的一个主要的假设是[有限世界假设]，该假设规定所有输入和输出集是离散的，并且在尺寸方面是有限的。有限世界是数字电脑的世界，并且当前几乎所有优化方面的计算都是用计算机完成的，因此实际上并没有造成什么通用性上的损失。在一个有限世界里，对于一个最优化问题的所有信息，可以被总结为一种矩阵，我们称之为P矩阵(problem matrix)。在其最广泛的解释下，P矩阵的行代表了最优化策略，P矩阵的列代表了所有可能的问题，P矩阵的所有元素展示了不同策略作用于不同问题的结果。因此，NFLT的实质就是在说P矩阵每行的均值总是相同的，即，对于同一个问题，考察所有可能的输入，不同策略的结果总是相同的。P矩阵的深层次结构将结果扩展到其他搜索算法，并带来许多其他有用的见解。我们指出，虽然我们在此呈现的解释并不正式，但所有的结果会以一种严谨的格式呈现。

---

## 2.问题规定

  在最优化问题中，我们将关注点放在形如 $y=f(x)$ 的映射上，其中$x$是一个来自[解集合X]的元素，$y$ 是来自[表现集合Y]的一个标量。最优化问题的目的是在[解集合X]中选择一个解$x$，使得表现$y$呈现在某种情况下的最好结果(比如取得最小值)。在有限世界中，集合X和集合Y是离散的，并且在尺寸方面是有限的。比如，离散化连续值优化问题的输入和表现空间，或者TSP问题中的一组旅行和旅行长度。当集合X和集合Y是有限的，从X到Y的所有可能的映射的集合也是有限的。特别的，如果X的尺寸是$|X|$ ，Y的尺寸是$|Y|$,那么，直接通过枚举，集合$F = \{f: X\rightarrow Y\}$ 中有$|F|=|Y|^{|X|}$ 个互不相同的映射。

### 2.1 P矩阵

  由于集合X，集合Y和集合F都是离散的，所以我们可以给它们的所有元素标记整数序号，即，令

$X=\{x_{0},x_{1},...,x_{|X|-1}\}$，

$Y=\{y_{0},y_{1},...,y_{|Y|-1}\}$， 

$F=\{f_{0},f_{1},...,f_{|F|-1}\}$ 

我们如何标记元素完全是人为决定的，之后我们将会看到。现在我们定义P矩阵如下：P矩阵是一个$|X|$行$|F|$列的矩阵。行由X集合标记，列由F集合标记。矩阵的第(i,j)元素是集合Y中的$f_{j}(x_{i})$元素。

例如，假设$|X|=3, |Y|=2$，那么$|F|=|Y|^{|X|}=8$ ，P矩阵如下：
$$
\quad \begin{matrix}
f0&f1&f2&f3&f4&f5&f6&f7
\end{matrix}
\\
\begin{matrix}
x0\\
x1\\
x2\\
\end{matrix}
\left[
\begin{matrix}
y0&y1&y0&y1&y0&y1&y0&y1 \\
y0&y0&y1&y1&y0&y0&y1&y1 \\
y0&y0&y0&y0&y1&y1&y1&y1 \\
\end{matrix}
\right]
$$

### 2.2 一个基本的计数引理

  P矩阵是一个对一类计数矩阵的概括。

#### 定义2.1 

对于一对给定的整数O和I，有一个$I*O^{I}$矩阵C， C的列由O进制的$0至O^{I}-1$ 构成，C矩阵被称作计数矩阵。

例如，对于$I=3, O=2$的计数矩阵是通过0到7的基数2计数获得的，即
$$
C = \left[
\begin{matrix}
0&1&0&1&0&1&0&1 \\
0&0&1&1&0&0&1&1 \\
0&0&0&0&1&1&1&1
\end{matrix}
\right]
$$
计数矩阵拥有以下关键性质：

#### 引理2.1(计数引理)

对于一个计数矩阵(由一对给定的正整数O和I定义):

a) 对于每个数字0,1,...,O-1在每行中均出现$O^{I-1}$次。

b)  任意选出第i行和第i行中的元素$C_{ij}$，对于C执行以下操作：消去第i行,消去$C_{ik}\not=C_{ij}$的所有k列。形成的子矩阵是由I-1和O定义的计数矩阵，具有I-1行，$O^{I-1}$列。

举例：
$$
\left[
\begin{matrix}
0&1&0&1&0&1&0&1 \\
0&0&1&1&0&0&1&1 \\
0&0&0&0&1&1&1&1
\end{matrix}
\right]
\Rightarrow
\left[
\begin{matrix}
0&1&0&1 \\
0&0&1&1
\end{matrix}
\right]
$$
本例中子矩阵是一个I=2,O=2的计数矩阵。

#### 推论2.1

计数矩阵的所有行的加和是相等的，同时，所有行的平均数也是相等的。

现在，观察P矩阵，
$$
\quad \begin{matrix}
f0&f1&f2&f3&f4&f5&f6&f7
\end{matrix}
\\
\begin{matrix}
x0\\
x1\\
x2\\
\end{matrix}
\left[
\begin{matrix}
y0&y1&y0&y1&y0&y1&y0&y1 \\
y0&y0&y1&y1&y0&y0&y1&y1 \\
y0&y0&y0&y0&y1&y1&y1&y1 \\
\end{matrix}
\right]
$$
P矩阵的所有元素的下标可以对应到I=3, O=2的计数矩阵，换言之，P矩阵在形式上相当于一个计数矩阵。因此，不考虑y有关取值的情况下，P矩阵满足计数引理，对应$O=|Y|, I=|X|$

---

## 3. 没有免费的午餐

